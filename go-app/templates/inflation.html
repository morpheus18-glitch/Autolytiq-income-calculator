{{- /* Inflation & Compound Interest Calculator */ -}}

{{define "inflation-content"}}
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:py-12">
    <!-- Hero -->
    <div class="text-center mb-10">
        <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-500/10 border border-orange-500/20 mb-4">
            <svg class="h-4 w-4 text-orange-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
            </svg>
            <span class="text-sm font-medium text-orange-600 dark:text-orange-400">Money Over Time</span>
        </div>
        <h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold mb-3">
            Inflation &amp; <span class="text-orange-500 neon-text">Compound Interest</span> Calculator
        </h1>
        <p class="text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
            See how inflation erodes your money and how compound interest builds wealth over time
        </p>
    </div>

    <div class="grid lg:grid-cols-2 gap-6 mb-8">
        <!-- Inflation Calculator -->
        <div class="glass-card rounded-2xl border-2 border-orange-500/20 shadow-xl overflow-hidden">
            <div class="px-6 py-4 bg-gradient-to-r from-orange-500/5 to-transparent border-b border-gray-200/50 dark:border-gray-700/50">
                <h2 class="text-lg font-semibold flex items-center gap-2">
                    <span class="p-1.5 rounded-lg bg-orange-500/10">
                        <svg class="h-5 w-5 text-orange-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 17h8m0 0V9m0 8l-8-8-4 4-6-6" /></svg>
                    </span>
                    Inflation Impact
                </h2>
                <p class="text-xs text-gray-500 mt-1">How much less will your money be worth?</p>
            </div>
            <div class="p-6">
                <form hx-post="/api/calculate-inflation" hx-target="#inflation-results" hx-swap="innerHTML" class="space-y-4">
                    <div class="space-y-2">
                        <label for="inf_amount" class="text-sm font-medium">Current Amount</label>
                        <div class="money-input-wrapper">
                            <input type="text" id="inf_amount" name="amount" inputmode="decimal" placeholder="100,000" required class="money-input w-full h-12 pl-8 pr-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-orange-500/30 focus:border-orange-500/50 outline-none transition-all mono-value">
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="space-y-2">
                            <label for="inf_rate" class="text-sm font-medium">Inflation Rate</label>
                            <div class="relative">
                                <input type="number" id="inf_rate" name="rate" min="0" max="20" step="0.1" value="3.5" class="w-full h-12 px-4 pr-8 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-orange-500/30 focus:border-orange-500/50 outline-none transition-all mono-value">
                                <span class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400">%</span>
                            </div>
                        </div>
                        <div class="space-y-2">
                            <label for="inf_years" class="text-sm font-medium">Years</label>
                            <input type="number" id="inf_years" name="years" min="1" max="50" value="10" class="w-full h-12 px-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-orange-500/30 focus:border-orange-500/50 outline-none transition-all mono-value">
                        </div>
                    </div>
                    <button type="submit" class="w-full py-3 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-xl shadow-lg shadow-orange-500/25 transition-all">
                        Calculate Impact
                    </button>
                </form>
                <div id="inflation-results" class="mt-4"></div>
            </div>
        </div>

        <!-- Compound Interest Calculator -->
        <div class="glass-card rounded-2xl border-2 border-emerald-500/20 shadow-xl overflow-hidden">
            <div class="px-6 py-4 bg-gradient-to-r from-emerald-500/5 to-transparent border-b border-gray-200/50 dark:border-gray-700/50">
                <h2 class="text-lg font-semibold flex items-center gap-2">
                    <span class="p-1.5 rounded-lg bg-emerald-500/10">
                        <svg class="h-5 w-5 text-emerald-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" /></svg>
                    </span>
                    Compound Interest
                </h2>
                <p class="text-xs text-gray-500 mt-1">How much will your investments grow?</p>
            </div>
            <div class="p-6">
                <form hx-post="/api/calculate-compound" hx-target="#compound-results" hx-swap="innerHTML" class="space-y-4">
                    <div class="space-y-2">
                        <label for="ci_principal" class="text-sm font-medium">Starting Amount</label>
                        <div class="money-input-wrapper">
                            <input type="text" id="ci_principal" name="principal" inputmode="decimal" placeholder="10,000" required class="money-input w-full h-12 pl-8 pr-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-500/50 outline-none transition-all mono-value">
                        </div>
                    </div>
                    <div class="space-y-2">
                        <label for="ci_monthly" class="text-sm font-medium">Monthly Contribution</label>
                        <div class="money-input-wrapper">
                            <input type="text" id="ci_monthly" name="monthly" inputmode="decimal" placeholder="500" class="money-input w-full h-12 pl-8 pr-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-500/50 outline-none transition-all mono-value">
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="space-y-2">
                            <label for="ci_rate" class="text-sm font-medium">Annual Return</label>
                            <div class="relative">
                                <input type="number" id="ci_rate" name="rate" min="0" max="30" step="0.1" value="7" class="w-full h-12 px-4 pr-8 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-500/50 outline-none transition-all mono-value">
                                <span class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400">%</span>
                            </div>
                        </div>
                        <div class="space-y-2">
                            <label for="ci_years" class="text-sm font-medium">Years</label>
                            <input type="number" id="ci_years" name="years" min="1" max="50" value="20" class="w-full h-12 px-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-500/50 outline-none transition-all mono-value">
                        </div>
                    </div>
                    <button type="submit" class="w-full py-3 bg-emerald-500 hover:bg-emerald-600 text-white font-semibold rounded-xl shadow-lg shadow-emerald-500/25 transition-all">
                        Calculate Growth
                    </button>
                </form>
                <div id="compound-results" class="mt-4"></div>
            </div>
        </div>
    </div>

    <!-- Related -->
    <div class="mt-12">
        <h2 class="text-xl font-bold mb-6 text-center">Related Tools</h2>
        <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">
            <a href="/taxes" class="p-4 rounded-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-red-500/50 transition-all cursor-pointer text-center group">
                <div class="text-sm font-medium">Tax Calculator</div>
            </a>
            <a href="/housing" class="p-4 rounded-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-purple-500/50 transition-all cursor-pointer text-center group">
                <div class="text-sm font-medium">Mortgage Calculator</div>
            </a>
            <a href="/rent-vs-buy" class="p-4 rounded-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-indigo-500/50 transition-all cursor-pointer text-center group">
                <div class="text-sm font-medium">Rent vs. Buy</div>
            </a>
            <a href="/smart-money" class="p-4 rounded-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-emerald-500/50 transition-all cursor-pointer text-center group">
                <div class="text-sm font-medium">Budget Planner</div>
            </a>
        </div>
    </div>
</div>

<script>
    document.querySelectorAll('.money-input').forEach(function(el) {
        el.addEventListener('input', function(e) {
            let value = e.target.value.replace(/[^0-9.]/g, '');
            const parts = value.split('.');
            if (parts.length > 2) value = parts[0] + '.' + parts.slice(1).join('');
            if (parts[0]) parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ',');
            e.target.value = parts.join('.');
        });
    });
</script>
{{end}}
